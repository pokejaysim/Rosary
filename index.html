<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive Rosary Companion - Pray the Holy Rosary with guided mysteries, progress tracking, and daily recommendations.">
    <meta name="author" content="Rosary Companion">
    <meta property="og:title" content="Rosary Companion - Interactive Prayer Guide">
    <meta property="og:description" content="Pray the Holy Rosary with our interactive companion featuring guided mysteries and progress tracking.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="images/og-image.png">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="preconnect" href="https://www.google.com">
    <title>Rosary Companion - Interactive Prayer Guide</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#764ba2">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Rosary Companion">
    <link rel="apple-touch-icon" href="images/rosary-optimized.svg">
</head>
<body>
    <a href="#prayerSection" class="skip-link sr-only">Skip to rosary prayer section</a>
    <header class="header">
        <div class="container">
            <div class="header-top">
                <h1>Rosary Companion</h1>
                <button id="darkModeToggle" class="dark-mode-toggle" aria-label="Toggle dark mode">
                    <span class="dark-mode-icon">üåô</span>
                </button>
            </div>
            <nav aria-label="Prayer progress navigation" class="sr-only">
                <!-- Navigation will be handled by the step indicator -->
            </nav>
        </div>
    </header>
    
    <!-- Loading overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Loading Rosary Companion...</h2>
            <p>Preparing your prayer experience</p>
        </div>
    </div>

    <main class="container" id="mainContainer" style="display: none;">

        <section class="auth-section" id="authSection" aria-labelledby="auth-heading">
            <div class="auth-container">
                <h2 id="auth-heading">Sign in to save your progress</h2>
                <button id="btnGoogle" class="btn-google" aria-label="Sign in with Google account">
                    <img src="https://www.google.com/favicon.ico" alt="">
                    Sign in with Google
                </button>
                <button id="btnEmail" class="btn-email" aria-label="Sign in with email address">
                    ‚úâÔ∏è Sign in with Email
                </button>
                <button id="btnAnonymous" class="btn-anonymous" aria-label="Continue without signing in">
                    üë§ Continue as Guest
                </button>
            </div>
        </section>

        <section class="user-info" id="userInfo" style="display: none;" aria-labelledby="user-greeting">
            <span id="userName" aria-label="Current user"></span>
            <button id="btnSignOut" class="btn-signout" aria-label="Sign out of account">Sign Out</button>
        </section>


        <div class="session-restore" id="sessionRestore" style="display: none;">
            <h3>Welcome Back! üôè</h3>
            <p>You have an unfinished rosary from earlier. Would you like to continue where you left off?</p>
            <div class="session-buttons">
                <button class="btn-small btn-restore">Continue</button>
                <button class="btn-small btn-fresh">Start Fresh</button>
            </div>
        </div>

        <section class="mystery-selector" id="mysterySelector" aria-labelledby="mystery-heading">
            <h2 id="mystery-heading">Select Mystery</h2>
            <div class="today-mystery" id="todayMystery" role="status" aria-live="polite">
                Today's Mystery: Joyful Mysteries (Monday)
            </div>
            <div class="mystery-buttons" role="tablist" aria-label="Choose rosary mystery type">
                <button class="mystery-btn active" data-mystery="joyful" role="tab" aria-selected="true" aria-controls="prayer-content">Joyful</button>
                <button class="mystery-btn" data-mystery="sorrowful" role="tab" aria-selected="false" aria-controls="prayer-content">Sorrowful</button>
                <button class="mystery-btn" data-mystery="glorious" role="tab" aria-selected="false" aria-controls="prayer-content">Glorious</button>
                <button class="mystery-btn" data-mystery="luminous" role="tab" aria-selected="false" aria-controls="prayer-content">Luminous</button>
            </div>
        </section>

        <section class="prayer-section" id="prayerSection" aria-labelledby="prayer-heading">
            <div class="progress-indicator" role="progressbar" aria-valuemin="0" aria-valuemax="7" aria-valuenow="0" aria-label="Rosary progress">
                <div class="progress-dot current" data-step="0" aria-label="Step 1: Opening prayers"></div>
                <div class="progress-dot" data-step="1" aria-label="Step 2: First decade"></div>
                <div class="progress-dot" data-step="2" aria-label="Step 3: Second decade"></div>
                <div class="progress-dot" data-step="3" aria-label="Step 4: Third decade"></div>
                <div class="progress-dot" data-step="4" aria-label="Step 5: Fourth decade"></div>
                <div class="progress-dot" data-step="5" aria-label="Step 6: Fifth decade"></div>
                <div class="progress-dot" data-step="6" aria-label="Step 7: Closing prayers"></div>
                <div class="progress-dot" data-step="7" aria-label="Step 8: Complete"></div>
            </div>
            <div class="progress-label" id="progressLabel" aria-live="polite">Opening Prayers</div>

            <div class="current-step">
                <h2 class="step-title" id="stepTitle">Opening Prayers</h2>
                <p class="step-subtitle" id="stepSubtitle">Begin with the Sign of the Cross</p>
                <div class="audio-controls">
                    <button id="playAudioBtn" class="audio-btn" aria-label="Play prayer audio">
                        <span class="audio-icon">üîä</span>
                        <span class="audio-text">Listen</span>
                    </button>
                    <button id="pauseAudioBtn" class="audio-btn" style="display: none;" aria-label="Pause prayer audio">
                        <span class="audio-icon">‚è∏Ô∏è</span>
                        <span class="audio-text">Pause</span>
                    </button>
                </div>
            </div>

            <aside id="mysteryInfo" class="mystery-info" style="display: none;" aria-labelledby="current-mystery">
                <h3 class="mystery-name" id="currentMysteryName"></h3>
                <p class="mystery-virtue" id="currentMysteryVirtue"></p>
            </aside>

            <!-- Bead Counter for decades -->
            <div class="bead-counter" id="beadCounter" style="display: none;">
                <h4 class="bead-counter-title">Prayer Beads</h4>
                <div class="bead-visualization">
                    <div class="large-bead our-father-bead" aria-label="Our Father bead"></div>
                    <div class="small-beads-container">
                        <div class="small-bead hail-mary-bead" data-bead="1" aria-label="Hail Mary 1"></div>
                        <div class="small-bead hail-mary-bead" data-bead="2" aria-label="Hail Mary 2"></div>
                        <div class="small-bead hail-mary-bead" data-bead="3" aria-label="Hail Mary 3"></div>
                        <div class="small-bead hail-mary-bead" data-bead="4" aria-label="Hail Mary 4"></div>
                        <div class="small-bead hail-mary-bead" data-bead="5" aria-label="Hail Mary 5"></div>
                        <div class="small-bead hail-mary-bead" data-bead="6" aria-label="Hail Mary 6"></div>
                        <div class="small-bead hail-mary-bead" data-bead="7" aria-label="Hail Mary 7"></div>
                        <div class="small-bead hail-mary-bead" data-bead="8" aria-label="Hail Mary 8"></div>
                        <div class="small-bead hail-mary-bead" data-bead="9" aria-label="Hail Mary 9"></div>
                        <div class="small-bead hail-mary-bead" data-bead="10" aria-label="Hail Mary 10"></div>
                    </div>
                    <div class="large-bead glory-be-bead" aria-label="Glory Be bead"></div>
                </div>
                <div class="bead-counter-controls">
                    <button id="advanceBeadBtn" class="bead-btn" aria-label="Advance to next bead">
                        <span class="bead-btn-icon">‚Üí</span>
                        <span class="bead-btn-text">Next Prayer</span>
                    </button>
                    <button id="resetBeadBtn" class="bead-btn" aria-label="Reset bead counter">
                        <span class="bead-btn-icon">‚Ü∫</span>
                        <span class="bead-btn-text">Reset</span>
                    </button>
                </div>
            </div>

            <article class="prayer-content" id="prayerContent" role="tabpanel" aria-labelledby="stepTitle">
                <!-- Content will be dynamically updated -->
            </article>

            <div class="controls" role="group" aria-label="Prayer navigation">
                <button class="btn btn-secondary" id="prevBtn" aria-label="Go to previous prayer step">Previous</button>
                <button class="btn btn-primary" id="nextBtn" aria-label="Continue to next prayer step">Continue</button>
            </div>
        </section>

        <section class="prayer-section" id="completionMessage" style="display: none;" aria-labelledby="completion-heading">
            <div class="completion-message" role="alert" aria-live="assertive">
                <h2 id="completion-heading">Rosary Complete! üôè</h2>
                <p>May the peace of Christ be with you</p>
            </div>
            <div class="controls">
                <button id="resetBtn" class="btn btn-primary" aria-label="Begin a new rosary prayer session">Start New Rosary</button>
            </div>
        </section>
    </main>

    <script type="module" src="js/script.js"></script>
</body>
</html>
