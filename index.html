<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rosary Companion</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Rosary Companion</h1>
        </div>

        <div class="auth-section" id="authSection">
            <div class="auth-container">
                <h3>Sign in to save your progress</h3>
                <button class="btn-google" onclick="signInWithGoogle()">
                    <img src="https://www.google.com/favicon.ico" alt="Google"> 
                    Sign in with Google
                </button>
                <button class="btn-email" onclick="showEmailLogin()">
                    ‚úâÔ∏è Sign in with Email
                </button>
                <button class="btn-anonymous" onclick="continueAsGuest()">
                    üë§ Continue as Guest
                </button>
            </div>
        </div>

        <div class="user-info" id="userInfo" style="display: none;">
            <span id="userName"></span>
            <button class="btn-signout" onclick="signOut()">Sign Out</button>
        </div>

        <div class="stats-section">
            <div class="stats-display" id="statsDisplay">
                <div class="stat-item">
                    <span class="stat-number" id="totalRosaries">0</span>
                    <span class="stat-label">Total Rosaries</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="dayStreak">0</span>
                    <span class="stat-label">Day Streak</span>
                </div>
            </div>
        </div>

        <div class="session-restore" id="sessionRestore" style="display: none;">
            <h3>Welcome Back! üôè</h3>
            <p>You have an unfinished rosary from earlier. Would you like to continue where you left off?</p>
            <div class="session-buttons">
                <button class="btn-small btn-restore" onclick="continueSession()">Continue</button>
                <button class="btn-small btn-fresh" onclick="startFresh()">Start Fresh</button>
            </div>
        </div>

        <div class="mystery-selector" id="mysterySelector">
            <h2>Select Mystery</h2>
            <div class="today-mystery" id="todayMystery">
                Today's Mystery: Joyful Mysteries (Monday)
            </div>
            <br>
            <div class="mystery-buttons">
                <button class="mystery-btn active" data-mystery="joyful" onclick="selectMystery('joyful')">Joyful</button>
                <button class="mystery-btn" data-mystery="sorrowful" onclick="selectMystery('sorrowful')">Sorrowful</button>
                <button class="mystery-btn" data-mystery="glorious" onclick="selectMystery('glorious')">Glorious</button>
                <button class="mystery-btn" data-mystery="luminous" onclick="selectMystery('luminous')">Luminous</button>
            </div>
        </div>

        <div class="prayer-section" id="prayerSection">
            <div class="progress-indicator">
                <div class="progress-dot current" data-step="0"></div>
                <div class="progress-dot" data-step="1"></div>
                <div class="progress-dot" data-step="2"></div>
                <div class="progress-dot" data-step="3"></div>
                <div class="progress-dot" data-step="4"></div>
                <div class="progress-dot" data-step="5"></div>
                <div class="progress-dot" data-step="6"></div>
                <div class="progress-dot" data-step="7"></div>
            </div>
            <div class="progress-label" id="progressLabel">Opening Prayers</div>

            <div class="current-step">
                <div class="step-title" id="stepTitle">Opening Prayers</div>
                <div class="step-subtitle" id="stepSubtitle">Begin with the Sign of the Cross</div>
            </div>

            <div id="mysteryInfo" class="mystery-info" style="display: none;">
                <div class="mystery-name" id="currentMysteryName"></div>
                <div class="mystery-virtue" id="currentMysteryVirtue"></div>
            </div>

            <div class="prayer-content" id="prayerContent">
                <!-- Content will be dynamically updated -->
            </div>

            <div class="controls">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousStep()">Previous</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextStep()">Continue</button>
            </div>
        </div>

        <div class="prayer-section" id="completionMessage" style="display: none;">
            <div class="completion-message">
                <h2>Rosary Complete! üôè</h2>
                <p>May the peace of Christ be with you</p>
            </div>
            <div class="controls">
                <button class="btn btn-primary" onclick="resetRosary()">Start New Rosary</button>
            </div>
        </div>
    </div>

    <script type="module" src="js/script.js"></script>
</body>
</html>